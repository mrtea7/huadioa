<!DOCTYPE html>
<html lang="cn" class="app fadeInUp animated">
<head>
  <meta charset="UTF-8">
  <title></title>
  <base target="mainFrame">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <link href="../../assets/css/bootstrap/3.3.0/bootstrap-offical.css" rel="stylesheet">
  <!--<link href="../../assets/css/bootstrap/3.3.0/bootstrap.css" rel="stylesheet">-->
  <link href="../../assets/css/angular/animate.css" rel="stylesheet">
  <link href="../../assets/css/font-awesome.css" rel="stylesheet">
  <link href="../../assets/css/iconfont.css" rel="stylesheet">
  <link href="../../assets/css/plugins/jstree/jstree.css" rel="stylesheet"/>
  <link href="../../assets/css/angular/ngToast.css" rel="stylesheet"/>
  <link href="../../assets/css/plugins/nanoscroller.css" rel="stylesheet"/>
  <link href="../../assets/css/style.css" rel="stylesheet">
  <link href="../../assets/css/slide.css" rel="stylesheet">
  <link href="../../assets/css/app/faWen.css" rel="stylesheet">
</head>
<body ng-app="myApp.faWen" ng-controller="FaWenCtrl">
<toast></toast>
<section class="hbox stretch">
  <aside class="aside-sm bg-white b-r" id="subNav">
    <div class="wrapper b-b header"><b>发文应用</b></div>
    <div class="nano" style="width: 150px; position: absolute; top: 50px; bottom: 0;"><!--height: 400px;-->
      <ul class="nav nano-content" style="">
        <li bindonce class="b-b b-light menu-item" ng-repeat="menu in menuList" ng-class="isSelectedMenu(menu)" >
          <a  ng-click="hasMenuChildren(menu) ? '' : setPage(menu); toggleSelectMenu(menu)"
             slide-toggle slide-expanded="menu.expanded" >
            <i ng-if="hasMenuChildren(menu)" class="fa  pull-right m-t-xs text-xs icon-muted"
               ng-class="menu.expanded ? 'fa-chevron-down' : 'fa-chevron-right' "></i>
            <span bo-text="menu.menuname"></span>
          </a>
          <!-- FIXME：slide 的初始化高度是通过 slide-toggle 计算出来的，因为 slide 初始化动画效果（从展开到收拢）必须使用 px 单位 -->
          <div ng-if="hasMenuChildren(menu)" ng-class="menu.expanded ? 'b-t' : ''"
               slideable init-slide-expanded="menu.expanded"  ><!--data-height="160px"-->
            <ul class="nav" style="padding-left: 28px;">
              <li bindonce class="b-b b-light " ng-repeat="childMenu in menu.children"
                  ng-click="setPage(childMenu); toggleSelectMenu(childMenu)" ng-class="isSelectedMenu(childMenu)">
                <a class="menu-child-link " ng-click="setPage(childMenu)"><span bo-text="childMenu.menuname"></span></a>
              </li>
            </ul>
          </div>
        </li>
      </ul>
    </div>
  </aside>
  <aside ng-include="menuTemplateUrl"></aside>
</section>
</body>
<script src="../../assets/js/jquery/jquery/1.11.1/jquery.js"></script>
<script src="../../assets/js/jquery/jstree/3.0.8/jstree.js"></script>
<script src="../../assets/js/jquery/jquery.nanoscroller.js"></script>
<script src="../../assets/js/bootstrap/bootstrap/3.3.0/bootstrap.js"></script>
<script src="../../assets/js/underscore/1.7.0/underscore.js"></script>
<script src="../../assets/js/angularjs/angularjs/1.3.6/angular.js"></script>
<script src="../../assets/js/angularjs/angularjs/1.3.6/angular-animate.js"></script>
<script src="../../assets/js/angularjs/angularui/ui-router/0.2.13/angular-ui-router.js"></script>
<script src="../../assets/js/angularjs/angularui/ui-bootstrap/0.12.0/ui-bootstrap-tpls.js"></script>
<script src="../../assets/js/angularjs/modules/underscore.js"></script>
<script src="../../assets/js/angularjs/modules/handyUtilities.js"></script>
<script src="../../assets/js/angularjs/modules/bindonce.js"></script>
<script src="../../assets/js/angularjs/modules/ngJsTree.js"></script>
<script src="../../assets/js/angularjs/modules/sanitize.js"></script>
<script src="../../assets/js/angularjs/modules/ngToast.js"></script>
<script src="../../assets/js/angularjs/common/request.js"></script>
<script src="../../assets/js/angularjs/common/slider.js"></script>
<script src="../../assets/js/angularjs/common/changeNotification.js"></script>
<script src="../../assets/js/angularjs/common/angularSlideables.js"></script>

<script src="../../assets/js/jquery/jquery.hotkeys.js"></script>
<script src="../../assets/js/angularjs/common/hotkeys.js"></script>

<script src="../../assets/js/jquery/mutate.events.js"></script>
<script src="../../assets/js/jquery/mutate.min.js"></script>

<script src="faWen.foudation.js"></script>
<script src="faWen.new.js"></script>
<script>

  // 这个插件能够使得 scrollHeight 立马更新
  $(".nano-content").mutate('scrollHeight', function () {
    // console.log($(this).scrollHeight)
    $(".nano").nanoScroller();
  });

</script>
</html>


